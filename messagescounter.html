<html>
<head>
<title>How amny messages does my frend have?</title>
</head>
<body>
  <style>
  body{
    text-align: center;
    background-color: aqua;
  }
  </style>
<h1 style="text-align:center">Have you ever wanted to find out how many unread notifications somebody has on Scratch?</h1>
You sound like a stalker then (just kidding).<br>
Enter a person's username: <input placeholder="Who do you want to stalk? :P" size="25" type="text" id="uname" /><br/>
That user ("<span id="user"></span>") person has <span id="target">0</span> unread notifications.
<b>Auto-Updates every 10 seconds</b><br/><br/>
<b style="color:red;">All mentions of stalking are jokes, so please don't sue me, thanks!</b>
<script>
var update = function(){
var x = new XMLHttpRequest();
x.open("GET", "https://api.scratch.mit.edu/users/" + document.getElementById("uname").value + "/messages/count");
x.onreadystatechange = function(){
if(x.readyState == 4){
document.getElementById("user").innerHTML = document.getElementById("uname").value;
var res = JSON.parse(x.responseText);
if(res.hasOwnProperty("count")){
document.getElementById("target").innerHTML = res.count;
document.getElementById("user").innerHTML = document.getElementById("uname").value;
} else{
document.getElementById("target").innerHTML = "<span style='color:red'>User not found :(</span>";
}
}
}
x.send();
}
update();
window.setInterval(update, 10000)
</script>
</body>
</html>
